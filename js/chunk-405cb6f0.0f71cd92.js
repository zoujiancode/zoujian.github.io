(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-405cb6f0"],{"159b":function(t,e,a){var i=a("da84"),r=a("fdbc"),n=a("17c2"),s=a("9112");for(var o in r){var c=i[o],d=c&&c.prototype;if(d&&d.forEach!==n)try{s(d,"forEach",n)}catch(l){d.forEach=n}}},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,r=a("a640"),n=a("ae40"),s=r("forEach"),o=n("forEach");t.exports=s&&o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1e6a":function(t,e,a){"use strict";var i=a("ac6e"),r=a.n(i);r.a},4160:function(t,e,a){"use strict";var i=a("23e7"),r=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},a434:function(t,e,a){"use strict";var i=a("23e7"),r=a("23cb"),n=a("a691"),s=a("50c4"),o=a("7b0b"),c=a("65f0"),d=a("8418"),l=a("1dde"),f=a("ae40"),u=l("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,v=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!h},{splice:function(t,e){var a,i,l,f,u,h,C=o(this),S=s(C.length),b=r(t,S),y=arguments.length;if(0===y?a=i=0:1===y?(a=0,i=S-b):(a=y-2,i=v(m(n(e),0),S-b)),S+a-i>p)throw TypeError(g);for(l=c(C,i),f=0;f<i;f++)u=b+f,u in C&&d(l,f,C[u]);if(l.length=i,a<i){for(f=b;f<S-i;f++)u=f+i,h=f+a,u in C?C[h]=C[u]:delete C[h];for(f=S;f>S-i+a;f--)delete C[f-1]}else if(a>i)for(f=S-i;f>b;f--)u=f+i-1,h=f+a-1,u in C?C[h]=C[u]:delete C[h];for(f=0;f<a;f++)C[f+b]=arguments[f+2];return C.length=S-i+a,l}})},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},ac6e:function(t,e,a){},c975:function(t,e,a){"use strict";var i=a("23e7"),r=a("4d64").indexOf,n=a("a640"),s=a("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,d=n("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!d||!l},{indexOf:function(t){return c?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},dbf5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[a("van-nav-bar",{attrs:{title:"我的订单","left-text":"返回","left-arrow":""},on:{"click-left":t.goPerson}}),a("van-tabs",{on:{click:t.changeItem},model:{value:t.$store.state.activeName,callback:function(e){t.$set(t.$store.state,"activeName",e)},expression:"$store.state.activeName"}},t._l(t.tabContent,(function(e,i){return a("van-tab",{key:i,attrs:{title:e.title,name:e.name}},[a("div",{staticClass:"content"},t._l(t.orderID,(function(e,i){return a("div",{key:i,staticClass:"order-item"},[a("div",{staticClass:"item-title clearfix"},[a("div",{staticClass:"id fl"},[a("span",{staticClass:"order-num"},[t._v(t._s(e))])]),2==t.orderData[e].status?a("div",{staticClass:"confirm"},[a("van-button",{staticClass:"fr button",attrs:{type:"danger",round:"",size:"mini"},on:{click:function(a){return t.removeOrder(e)}}},[a("van-icon",{attrs:{name:"delete"}})],1),a("van-button",{staticClass:"fr button",attrs:{type:"info",round:"",size:"mini"}},[t._v("已收货")])],1):a("div",{staticClass:"finish"},[a("van-button",{staticClass:"fr button",attrs:{type:"info",round:"",size:"mini"},on:{click:function(a){return t.confirmReceive(e)}}},[t._v("确认收货")])],1)]),t._l(t.orderData[e].data,(function(i,r){return a("div",{key:r,staticClass:"item-content clearfix"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"item-img fl"},[a("img",{staticClass:"img_auto",attrs:{src:i.smallImg,alt:""}})]),a("div",{staticClass:"item-text fl"},[a("div",{staticClass:"top"},[a("div",{staticClass:"name"},[a("p",[t._v(t._s(i.name))])]),a("div",{staticClass:"rule"},[a("p",[t._v(t._s(i.rule))])])]),a("div",{staticClass:"price"},[a("span",{staticClass:"fl span1"},[t._v(t._s(i.price))]),a("span",{staticClass:"fr"},[t._v("X"+t._s(i.count))])]),a("div",[a("span",{staticClass:"fl"},[t._v(t._s(t._f("formatDate")(t.orderData[e].date,"yyyy-MM-dd hh:mm:ss")))])])])])])}))],2)})),0)])})),1)],1)},r=[],n=(a("4160"),a("c975"),a("a434"),a("159b"),{data:function(){return{tabContent:[{title:"全部",name:"0"},{title:"待收货",name:"1"},{title:"已收货",name:"2"}],orderData:[],orderID:""}},methods:{asess:function(t){},changeItem:function(t){this.findOrder()},goPerson:function(){this.$router.push({name:"个人"})},findOrder:function(){var t=this,e=localStorage.getItem("__jigng");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"get",url:"/findOrder",params:{appkey:this.appkey,tokenString:e,status:this.$store.state.activeName}}).then((function(e){if(t.$toast.clear(),7e4==e.data.code){e.data.result.sort((function(t,e){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}));var a=[];e.data.result.forEach((function(t){-1==a.indexOf(t.oid)&&a.push(t.oid)})),t.orderID=a;var i={};e.data.result.forEach((function(t){i[t.oid]?(i[t.oid].count+=t.count,i[t.oid].total+=t.count*t.price,i[t.oid].data.push(t)):i[t.oid]={data:[t],status:t.status,date:t.createdAt,count:t.count,total:t.count*t.price}})),t.orderData=i}})).catch((function(t){}))},confirmReceive:function(t){var e=this,a=localStorage.getItem("__jigng");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"post",url:"/receive",data:{appkey:this.appkey,tokenString:a,oid:t}}).then((function(a){if(e.$toast.clear(),8e4==a.data.code&&(e.orderData[t].status=2,1==e.$store.state.activeName)){var i=e.orderID.indexOf(t);e.orderID.splice(i,1)}})).catch((function(t){cosnoel.log(t)}))},removeOrder:function(t){var e=this,a=localStorage.getItem("__jigng");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"post",url:"/removeOrder",data:{appkey:this.appkey,tokenString:a,oid:t}}).then((function(a){if(e.$toast.clear(),9e4==a.data.code){var i=e.orderID.indexOf(t);e.orderID.splice(i,1)}})).catch((function(t){}))}},created:function(){this.findOrder()}}),s=n,o=(a("1e6a"),a("2877")),c=Object(o["a"])(s,i,r,!1,null,"00ddfba2",null);e["default"]=c.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-405cb6f0.0f71cd92.js.map