(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-682eade8"],{3139:function(t,o,a){},"541e":function(t,o,a){"use strict";a.r(o);var e=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",[a("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","left-arrow":""},on:{"click-left":function(o){return t.$router.go(-1)}}}),a("div",{staticClass:"content"},[a("van-cell-group",[a("van-cell",{attrs:{title:"修改密码","is-link":""},on:{click:t.changePasswords}}),a("van-cell",{attrs:{title:"注销账号","is-link":""},on:{click:t.destroy}})],1),a("div",{staticClass:"button"},[a("van-button",{attrs:{type:"danger",round:""},on:{click:t.logout}},[t._v("退出登录")])],1)],1),a("van-popup",{attrs:{position:"bottom",round:""},model:{value:t.show,callback:function(o){t.show=o},expression:"show"}},[a("div",{staticClass:"passwords"},[a("van-form",[a("van-field",{attrs:{label:"旧密码",placeholder:"请输入密码"},model:{value:t.oldPassword,callback:function(o){t.oldPassword=o},expression:"oldPassword"}}),a("van-field",{attrs:{label:"新密码",placeholder:"请输入密码"},model:{value:t.newPassword,callback:function(o){t.newPassword=o},expression:"newPassword"}})],1),a("div",{staticClass:"btn-box"},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.commit}},[t._v("提交")])],1)],1)]),a("van-popup",{attrs:{position:"bottom",round:""},model:{value:t.destroys,callback:function(o){t.destroys=o},expression:"destroys"}})],1)},s=[],n=a("ade3"),r={data:function(){return{show:!1,destroys:!1,oldPassword:"",newPassword:""}},methods:Object(n["a"])({changePasswords:function(){this.show=!0},destroy:function(){this.destroys=!0},commit:function(){var t=this,o=localStorage.getItem("__jigng");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"post",url:"/updatePassword",data:{appkey:this.appkey,tokenString:o,password:this.newPassword,oldPassword:this.oldPassword}}).then((function(o){t.$toast.clear(),t.show=!1,"E001"==o.data.code?(localStorage.removeItem("__jigng"),t.$router.push({name:"登录"})):t.$toast(o.data.msg)})).catch((function(t){}))},logout:function(){localStorage.removeItem("__jigng"),this.$router.push({name:"登录"})}},"destroy",(function(){var t=this;this.$dialog.confirm({title:"注销账号",message:"一旦注销，数据无法恢复"}).then((function(){var o=localStorage.getItem("__jigng");t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),t.axios({method:"POST",url:"/destroyAccount",data:{appkey:t.appkey,tokenString:o}}).then((function(o){t.$toast.clear(),"G001"==o.data.code?(localStorage.removeItem("__jigng"),t.$router.push({name:"登录"})):(t.$toast(o.data.msg),t.$router.push({name:"登录"}))})).catch((function(o){t.$toast.clear()}))})).catch((function(t){}))}))},i=r,c=(a("5f98"),a("2877")),l=Object(c["a"])(i,e,s,!1,null,"762f0e6e",null);o["default"]=l.exports},"5f98":function(t,o,a){"use strict";var e=a("3139"),s=a.n(e);s.a},ade3:function(t,o,a){"use strict";function e(t,o,a){return o in t?Object.defineProperty(t,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[o]=a,t}a.d(o,"a",(function(){return e}))}}]);
//# sourceMappingURL=chunk-682eade8.5aee2ebe.js.map